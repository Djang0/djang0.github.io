<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <meta name="description" content="Laroch'ailes club de parapente belge situé en Ardennes.">
    <meta name="author" content="Ludovic Reenaers">

    <title>Laroche'ailes - Club de parapente Belge</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <!-- Custom styles for this template -->
    <link href="css/grayscale.css" rel="stylesheet">

    <script src="vendor/moment/moment.js"></script>
    <script src="vendor/moment/locale/fr.js" charset="UTF-8"></script>

  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Laroch'ailes</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#about">A propos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#sites">Les sites</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#projects">Activités</a>
            </li>

            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#agenda">Agenda</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#signup">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="masthead">
      <div class="container d-flex h-100 align-items-center">
        <div class="mx-auto text-center">
          <h1 class="mx-auto my-0 text-uppercase">Laroch'ailes</h1>
          <h2 class="text-white-50 mx-auto mt-2 mb-5">Pas une école, pas de bi-places mais seulement un club. Le club !</h2>
          <a href="#about" class="btn btn-primary js-scroll-trigger">En savoir plus</a>
        </div>
      </div>
    </header>

    <!-- About Section -->
    <section id="about" class="about-section text-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <h2 class="text-white mb-4">Pétri de passion et d'expérience</h2>
            <p class="text-white-50">Le club est fondé en 2005 par une bande de copains passionnés, qui depuis, ne cessent de transmettre leur passion aux nouveaux arrivants.</p>
          </div>
        </div>
        <img src="img/ipad.png" class="img-fluid" alt="">
      </div>
    </section>

    <!-- Projects Section -->
    <section class="projects-section bg-light">
      <div class="container">

        <!-- Featured Project Row -->
        <div class="row align-items-center no-gutters mb-4 mb-lg-5" id="sites">
          <div class="col-xl-8 col-lg-7">
            <img class="img-fluid mb-3 mb-lg-0" src="img/takeoff.jpg" alt="">
          </div>
          <div class="col-xl-4 col-lg-5">
            <div class="featured-text text-center text-lg-left">
              <h4>Trois sites gérés</h4>
              <p class="text-black-50 mb-0">Le club gère trois sites(Corimont, Maboge et Marcourt) pour couvrir un maximum d'orientations et voler le plus souvent possible.</p>
            </div>
          </div>
        </div>

        <!-- Project One Row -->
        <div class="row justify-content-center no-gutters mb-5 mb-lg-0" id="projects">
          <div class="col-lg-6">
            <img class="img-fluid" src="img/demo-image-01.jpg" alt="">
          </div>
          <div class="col-lg-6">
            <div class="bg-black text-center h-100 project">
              <div class="d-flex h-100">
                <div class="project-text w-100 my-auto text-center text-lg-left">
                  <h4 class="text-white">Les sorties club</h4>
                  <p class="mb-0 text-white-50">Des séjours de courte durée sur des site étrangers proches pour varier les plaisirs.</p>
                  <hr class="d-none d-lg-block mb-0 ml-0">
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Project Two Row -->
        <div class="row justify-content-center no-gutters">
          <div class="col-lg-6">
            <img class="img-fluid" src="img/demo-image-02.jpg" alt="">
          </div>
          <div class="col-lg-6 order-lg-first">
            <div class="bg-black text-center h-100 project">
              <div class="d-flex h-100">
                <div class="project-text w-100 my-auto text-center text-lg-right">
                  <h4 class="text-white">Des voyages</h4>
                  <p class="mb-0 text-white-50">Voyages vers des destinations lointaines et exotiques, centrés sur le parapente. Dépaysement garanti !</p>
                  <hr class="d-none d-lg-block mb-0 mr-0">
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Project three Row -->
        <div class="row justify-content-center no-gutters mb-5 mb-lg-0">
          <div class="col-lg-6">
            <img class="img-fluid" src="img/forest.png" alt="">
          </div>
          <div class="col-lg-6">
            <div class="bg-black text-center h-100 project">
              <div class="d-flex h-100">
                <div class="project-text w-100 my-auto text-center text-lg-left">
                  <h4 class="text-white">Challenge Roland Leclerc</h4>
                  <p class="mb-0 text-white-50">Chaque année, nous organisons une compétition de vol de distance en hommage à «monsieur Corumont». Le challenge, qui s'étend sur douze mois, s'appuie sur l'honneur et la convivialité des membres.</p>
                  <hr class="d-none d-lg-block mb-0 ml-0">
                </div>
              </div>
            </div>
          </div>
        </div>
        <br />
        <div class="row align-items-center no-gutters mb-4 mb-lg-5" id="agenda">
          <div class="col-xl-4 col-lg-5">
            <div class="featured-text-right text-center text-lg-right">
              <h4>Agenda</h4>
              <p class="text-black-50 mb-0">Restez informé au sujet details événements auxquels participent le club</p>

              <button type="button" class="btn btn-primary" id="add-to-cal">reg</button>

            </div>
          </div>
          <div class="col-xl-8 col-lg-7">
            <!--  <img class="img-fluid mb-3 mb-lg-0" src="img/takeoff.jpg" alt="">-->
            <div id="gcf-simple" class="card"></div>

          </div>

        </div>
      </div>
    </section>


    <!-- Signup Section -->
    <section id="signup" class="signup-section">
      <div class="container">
        <div class="row">
          <div class="col-md-10 col-lg-8 mx-auto text-center">

            <i class="far fa-paper-plane fa-2x mb-2 text-white"></i>
            <h2 class="text-white mb-5">Demandez à devenir membre du club !</h2>

            <p class="text-white-50">Contactez le président, Pascal Lhoas, par e-mail en lui communiquant nom, prénom, numéro de téléphone et adresse complète. Si le club accepte votre candidature, il vous suffira de régler le montant de la
              cotisation annuelle de
              20 €.</p>

          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section bg-black">
      <div class="container">

        <div class="row">

          <div class="col-md-4 mb-3 mb-md-0">
            <div class="card py-4 h-100">
              <div class="card-body text-center">
                <span style="color: #64a19d;"><i class="fas fa-piggy-bank"></i></span>
                <h4 class="text-uppercase m-0">Compte du club</h4>
                <hr class="my-4">
                <div class="small text-black-50">IBAN BE65 7512 0026 2196 | BIC AXABBE22</div>
              </div>
            </div>
          </div>

          <div class="col-md-4 mb-3 mb-md-0">
            <div class="card py-4 h-100">
              <div class="card-body text-center">
                <i class="fas fa-envelope text-primary mb-2"></i>
                <h4 class="text-uppercase m-0">Email</h4>
                <hr class="my-4">
                <div class="small text-black-50">
                  <a href="mailto:pl@lhoas.com">pl@lhoas.com</a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-4 mb-3 mb-md-0">
            <div class="card py-4 h-100">
              <div class="card-body text-center">
                <span style="color: #64a19d;"><i class="fas fa-map-marked-alt"></i></span>
                <h4 class="text-uppercase m-0">Trouvez-nous</h4>
                <hr class="my-4">
                <div class="small text-black-50"><a target="_blank" href="https://goo.gl/maps/h1WeANKDLXL2">Le site du Corumont</a></div>
              </div>
            </div>
          </div>
        </div>

        <div class="social d-flex justify-content-center">

          <a href="https://www.facebook.com/LaRochAiles/" target="_blank" class="mx-2">
            <i class="fab fa-facebook-f"></i>
          </a>
        </div>

      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black small text-center text-white-50">
      <div class="container">
        Copyright &copy; larochailes.be 2019 - Designed by <a href="https://www.linkedin.com/in/ludovicreenaers/" target="_blank">Ludovic Reenaers</a>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <!-- Custom scripts for this template -->
    <script src="js/grayscale.min.js"></script>
    <script src="js/util.js"></script>
    <script type="text/javascript">
      // Google api console clientID and apiKey

      var clientId = '';
      var apiKey = '';

      // enter the scope of current project (this API must be turned on in the Google console)
      var scopes = 'https://www.googleapis.com/auth/calendar';


      // OAuth2 functions
      function handleClientLoad() {
        gapi.client.setApiKey(apiKey);
        window.setTimeout(checkAuth, 1);
      }

      //To authenticate
      function checkAuth() {
        gapi.auth.authorize({
          client_id: clientId,
          scope: scopes,
          immediate: true
        }, handleAuthResult);
      }

      function start() {
        // 2. Initialize the JavaScript client library.
        gapi.client.init({
          'apiKey': 'AIzaSyCYkDnVmc-PZbRYJQIViskIQFIF83M5aAM',
          // clientId and scope are optional if auth is not required.
          'clientId': '882505830520-5hrpn4v90rollmpmj027flm01kb5vlqf.apps.googleusercontent.com',
          'scope': 'calendar',
        }).then(function() {
          // 3. Initialize and make the API request.
          return gapi.client.request({
            'path': 'https://www.googleapis.com/calendar/v3/users/me/calendarList',
          })
        }).then(function(response) {
          console.log(response.result);
        }, function(reason) {
          console.log('Error: ' + reason.result.error.message);
        });
      };
      // 1. Load the JavaScript client library.
      gapi.load('client', start);

      // This is the resource we will pass while calling api function
      var resource = {
        "id": "larochailes@gmail.com"
      };

      function makeApiCall() {
        gapi.client.load('calendar', 'v3', function() { // load the calendar api (version 3)
          var request = gapi.client.calendar.calendarList.insert({
            // calendar ID which id of Google Calendar where you are creating events. this can be copied from your Google Calendar user view.

            "resource": resource // above resource will be passed here
          });
        });
      }

    </script>

    <script type="text/javascript">
      var mykey = 'AIzaSyCYkDnVmc-PZbRYJQIViskIQFIF83M5aAM'; // typically like Gtg-rtZdsreUr_fLfhgPfgff
      var calendarid = 'larochailes@gmail.com'; // will look somewhat like 3ruy234vodf6hf4sdf5sd84f@group.calendar.google.com
      var today = new Date();
      var max_date = new Date();
      max_date.setFullYear(max_date.getFullYear() + 1);
      moment.locale('fr');
      var url_query = 'https://www.googleapis.com/calendar/v3/calendars/' + calendarid + '/events?key=' + mykey + '&timeMin=' + ISODateString(today) + '&timeMax=' + ISODateString(max_date) + '&orderBy=startTime&singleEvents=true'
      $.ajax({
        type: 'GET',
        url: encodeURI(url_query),
        dataType: 'json',
        success: function(response) {
          //do whatever you want with each
          //data = JSON.stringify(response);

          $("#gcf-simple").html('<ul id="calendar_lst" class="scroll-list list-group "></ul>');

          for (var item in response["items"]) {
            //if (response.hasOwnProperty(property)) {
            // do stuff
            if (response["items"][item]["start"].hasOwnProperty('dateTime')) {
              start_date = moment(parseGoogleDate(response["items"][item]["start"]["dateTime"]))
            } else {
              start_date = moment(parseGoogleDate(response["items"][item]["start"]["date"]))
            }
            if (response["items"][item]["end"].hasOwnProperty('dateTime')) {
              end_date = moment(parseGoogleDate(response["items"][item]["end"]["dateTime"]))
            } else {
              end_date = moment(parseGoogleDate(response["items"][item]["end"]["date"]))
            }

            this_date = start_date;
            while (this_date.isBefore(end_date, 'day') || this_date.isSame(end_date, 'day')) {
              dsp_date = moment(this_date).format("dddd D MMM YYYY");
              $('#calendar_lst').append('<li class="list-group-item list-group-item-action" ><small><u>' + dsp_date + '</u> :</small>&nbsp;' + response["items"][item]["summary"] + '</li>')
              this_date.add(1, 'd');

            }


            //}
          }

        },
        error: function(response) {
          console.log(JSON.stringify(response));
          //tell that an error has occurred
        }
      });
      $(document).ready(function() {
        $('#add-to-cal').on("click", function() {
          makeApiCall();
        });
      });

    </script>
  </body>

</html>
